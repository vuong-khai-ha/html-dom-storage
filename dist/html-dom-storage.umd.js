!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).HTMLDomStorage={})}(this,(function(t){"use strict";function e(){this.__fragment=null,this.SELECTOR_WRAPPER="js-domStorage",this.DEFAULT_MODULE_NAME="common"}e.prototype.__getItemKey=function(t,e){return"js-hds-"+(t||this.DEFAULT_MODULE_NAME)+"-"+e},e.prototype.__parseData=function(t){return JSON.parse(t)},e.prototype.__stringifyData=function(t){return JSON.stringify(t)},e.prototype.__getWrapper=function(){return document.getElementById(this.SELECTOR_WRAPPER)},e.prototype.init=function(){if(!this.__getWrapper()){var t=document.createElement("div");t.id=this.SELECTOR_WRAPPER,document.body.appendChild(t)}},e.prototype.setItem=function(t,e,n){var o=document.getElementById(this.__getItemKey(n,t));o?o.textContent=this.__stringifyData(e):((o=document.createElement("script")).id=this.__getItemKey(n,t),o.type="application/json",o.textContent=this.__stringifyData(e),null!==this.__fragment?this.__fragment.appendChild(o):this.__getWrapper().appendChild(o))},e.prototype.getItem=function(t,e){var n=document.getElementById(this.__getItemKey(e,t));return n?this.__parseData(n.textContent):null},e.prototype.startTransaction=function(){this.__fragment=document.createDocumentFragment()},e.prototype.abortTransaction=function(){this.__fragment=null},e.prototype.commitTransaction=function(){this.__fragment&&this.__getWrapper().appendChild(this.__fragment),this.__fragment=null},window.HTMLDomStorage=e,t.HTMLDomStorage=e,Object.defineProperty(t,"__esModule",{value:!0})}));
